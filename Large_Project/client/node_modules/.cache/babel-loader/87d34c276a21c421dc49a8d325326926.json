{"ast":null,"code":"var _jsxFileName = \"/Users/chelsea/Downloads/MERN-Stack/client/src/Components/Todos.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport TodoItem from './TodoItem';\nimport TodoService from '../Services/TodoService';\nimport Message from './Message';\nimport { AuthContext } from '../Context/AuthContext';\n\nconst Todos = props => {\n  const [todo, setTodo] = useState({\n    name: \"\"\n  });\n  const [todos, setTodos] = useState([]);\n  const [message, setMessage] = useState(null);\n  const authContext = useContext(AuthContext);\n  useEffect(() => {\n    TodoService.getTodos().then(data => {\n      setTodos(data.todos);\n    });\n  }, []);\n\n  const onSubmit = e => {\n    e.preventDefault();\n    TodoService.postTodo(todo).then(data => {\n      const {\n        message\n      } = data;\n      resetForm();\n\n      if (!message.msgError) {\n        TodoService.getTodos().then(getData => {\n          setTodos(getData.todos);\n          setMessage(message);\n        });\n      } else if (message.msgBody === \"UnAuthorized\") {\n        setMessage(message);\n        authContext.setUser({\n          username: \"\",\n          role: \"\"\n        });\n        authContext.setIsAuthenticated(false);\n      } else {\n        setMessage(message);\n      }\n    });\n  };\n\n  const onChange = e => {\n    setTodo({\n      name: e.target.value\n    });\n  };\n\n  const resetForm = () => {\n    setTodo({\n      name: \"\"\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, todos.map(todo => {\n    return /*#__PURE__*/React.createElement(TodoItem, {\n      key: todo._id,\n      todo: todo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 32\n      }\n    });\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"todo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"Enter Todo\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"todo\",\n    value: todo.name,\n    onChange: onChange,\n    className: \"form-control\",\n    placeholder: \"Please Enter Todo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-lg btn-primary btn-block\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"Submit\")), message ? /*#__PURE__*/React.createElement(Message, {\n    message: message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 24\n    }\n  }) : null);\n};\n\nexport default Todos;","map":{"version":3,"sources":["/Users/chelsea/Downloads/MERN-Stack/client/src/Components/Todos.js"],"names":["React","useState","useContext","useEffect","TodoItem","TodoService","Message","AuthContext","Todos","props","todo","setTodo","name","todos","setTodos","message","setMessage","authContext","getTodos","then","data","onSubmit","e","preventDefault","postTodo","resetForm","msgError","getData","msgBody","setUser","username","role","setIsAuthenticated","onChange","target","value","map","_id"],"mappings":"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","sourcesContent":["import React, {useState,useContext,useEffect} from 'react';\nimport TodoItem from './TodoItem';\nimport TodoService from '../Services/TodoService';\nimport Message from './Message';\nimport { AuthContext } from '../Context/AuthContext';\n\nconst Todos = props =>{\n    const [todo,setTodo] = useState({name : \"\"});\n    const [todos,setTodos] = useState([]);\n    const [message,setMessage] = useState(null);\n    const authContext = useContext(AuthContext);\n    \n    useEffect(()=>{\n        TodoService.getTodos().then(data =>{\n            setTodos(data.todos);\n        });\n    },[]);\n\n    const onSubmit = e =>{\n        e.preventDefault();\n        TodoService.postTodo(todo).then(data =>{\n            const { message } = data;\n            resetForm();\n            if(!message.msgError){\n                TodoService.getTodos().then(getData =>{\n                    setTodos(getData.todos);\n                    setMessage(message);\n                });\n            }\n            else if(message.msgBody === \"UnAuthorized\"){\n                setMessage(message);\n                authContext.setUser({username : \"\", role : \"\"});\n                authContext.setIsAuthenticated(false);\n            }\n            else{\n                setMessage(message);\n            }\n        });\n    }\n\n    const onChange = e =>{\n        setTodo({name : e.target.value});\n    }\n\n    const resetForm = ()=>{\n        setTodo({name : \"\"});\n    }\n\n    return(\n        <div>\n            <ul className=\"list-group\">\n                {\n                    todos.map(todo =>{\n                        return <TodoItem key={todo._id} todo={todo}/>\n                    })\n                }\n            </ul>\n            <br/>\n            <form onSubmit={onSubmit}>\n                <label htmlFor=\"todo\">Enter Todo</label>\n                <input type=\"text\" \n                       name=\"todo\" \n                       value={todo.name} \n                       onChange={onChange}\n                       className=\"form-control\"\n                       placeholder=\"Please Enter Todo\"/>\n                <button className=\"btn btn-lg btn-primary btn-block\" \n                        type=\"submit\">Submit</button>\n            </form>\n            {message ? <Message message={message}/> : null}\n        </div>\n    );\n\n}\n\nexport default Todos;"]},"metadata":{},"sourceType":"module"}