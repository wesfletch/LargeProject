{"ast":null,"code":"var _jsxFileName = \"/Users/chelsea/Downloads/MERN-Stack/client/src/Components/Friends.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport FriendItem from './FriendItem';\nimport FriendService from '../Services/FriendService';\nimport Message from './Message';\nimport { AuthContext } from '../Context/AuthContext';\n\nconst Friends = props => {\n  const [friend, setFriend] = useState({\n    name: \"\"\n  });\n  const [friends, setFriends] = useState([]);\n  const [message, setMessage] = useState(null);\n  const authContext = useContext(AuthContext);\n  useEffect(() => {\n    FriendService.getFriends().then(data => {\n      setFriends(data.friends);\n    });\n  }, []);\n\n  const onSubmit = e => {\n    e.preventDefault();\n    FriendService.postFriend(friend).then(data => {\n      const {\n        message\n      } = data;\n      resetForm();\n\n      if (!message.msgError) {\n        FriendService.getFriends().then(getData => {\n          setFriends(getData.friends);\n          setMessage(message);\n        });\n      } else if (message.msgBody === \"UnAuthorized\") {\n        setMessage(message);\n        authContext.setUser({\n          email: \"\"\n        });\n        authContext.setIsAuthenticated(false);\n      } else {\n        setMessage(message);\n      }\n    });\n  };\n\n  const onChange = e => {\n    setFriend({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const resetForm = () => {\n    setFriend({\n      name: \"\",\n      favorites: \"\"\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, friends.map(friend => {\n    return /*#__PURE__*/React.createElement(FriendItem, {\n      key: friend._id,\n      friend: friend,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 32\n      }\n    });\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"friend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"Enter Friend Information\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"friend\",\n    value: friend.name,\n    onChange: onChange,\n    className: \"form-control\",\n    placeholder: \"Please Enter Friend's Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-lg btn-primary btn-block\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"Submit\")), message ? /*#__PURE__*/React.createElement(Message, {\n    message: message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 24\n    }\n  }) : null);\n};\n\nexport default Friends;","map":{"version":3,"sources":["/Users/chelsea/Downloads/MERN-Stack/client/src/Components/Friends.js"],"names":["React","useState","useContext","useEffect","FriendItem","FriendService","Message","AuthContext","Friends","props","friend","setFriend","name","friends","setFriends","message","setMessage","authContext","getFriends","then","data","onSubmit","e","preventDefault","postFriend","resetForm","msgError","getData","msgBody","setUser","email","setIsAuthenticated","onChange","user","target","value","favorites","map","_id"],"mappings":"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","sourcesContent":["import React, {useState,useContext,useEffect} from 'react';\nimport FriendItem from './FriendItem';\nimport FriendService from '../Services/FriendService';\nimport Message from './Message';\nimport { AuthContext } from '../Context/AuthContext';\n\nconst Friends = props =>{\n    const [friend,setFriend] = useState({name : \"\"});\n    const [friends,setFriends] = useState([]);\n    const [message,setMessage] = useState(null);\n    const authContext = useContext(AuthContext);\n    \n    useEffect(()=>{\n        FriendService.getFriends().then(data =>{\n            setFriends(data.friends);\n        });\n    },[]);\n\n    const onSubmit = e =>{\n        e.preventDefault();\n        FriendService.postFriend(friend).then(data =>{\n            const { message } = data;\n            resetForm();\n            if(!message.msgError){\n                FriendService.getFriends().then(getData =>{\n                    setFriends(getData.friends);\n                    setMessage(message);\n                });\n            }\n            else if(message.msgBody === \"UnAuthorized\"){\n                setMessage(message);\n                authContext.setUser({email : \"\"});\n                authContext.setIsAuthenticated(false);\n            }\n            else{\n                setMessage(message);\n            }\n        });\n    }\n\n    const onChange = e =>{\n        setFriend({...user,[e.target.name] : e.target.value});\n    }\n\n    const resetForm = ()=>{\n        setFriend({name : \"\", favorites : \"\"});\n    }\n\n    return(\n        <div>\n            <ul className=\"list-group\">\n                {\n                    friends.map(friend =>{\n                        return <FriendItem key={friend._id} friend={friend}/>\n                    })\n                }\n            </ul>\n            <br/>\n            <form onSubmit={onSubmit}>\n                <label htmlFor=\"friend\">Enter Friend Information</label>\n                <input type=\"text\" \n                       name=\"friend\" \n                       value={friend.name} \n                       onChange={onChange}\n                       className=\"form-control\"\n                       placeholder=\"Please Enter Friend's Name\"/>\n                <button className=\"btn btn-lg btn-primary btn-block\" \n                        type=\"submit\">Submit</button>\n            </form>\n            {message ? <Message message={message}/> : null}\n        </div>\n    );\n\n}\n\nexport default Friends;"]},"metadata":{},"sourceType":"module"}